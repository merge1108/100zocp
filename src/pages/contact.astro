---
import BaseLayout from "../layouts/BaseLayout.astro";
import siteData from "../content/site.json";
import content from "../content/contact.json";
const PHONE = (siteData as any)?.phone || "1811-6828";
const FORM_ENDPOINT = "https://hook.us2.make.com/qbn90ednknikg7cgy9k8mrem9tgp66a3";
const c:any = content as any;
---
<BaseLayout title={(c?.title||"상담문의")+" | 백조마케팅"} desc={c?.intro||"간단하게 연락처만 남겨주세요"}>
  <main id="main">
    <section class="section">
      <div class="container">
        <h1 class="h2">{c?.title||"상담문의"}</h1>

        <div class="meta" style="margin:var(--space-3) 0">
          <p><strong>전화:</strong> <a class="btn" href={"tel:"+PHONE}>{PHONE} 바로 연결</a></p>
        </div>

        <div class="meta">
          <form method="post" action={FORM_ENDPOINT}>
            <div class="grid stack-md" style="row-gap:var(--space-3)">
              <div class="span-6">
                <label style="display:block; font-weight:700; margin-bottom:6px">{c?.fields?.site_label||"현장명"}</label>
                <input type="text" name="site" placeholder={c?.fields?.site_placeholder||"예: ○○아파트 분양홍보관"} required style="width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px" />
              </div>
              <div class="span-6">
                <label style="display:block; font-weight:700; margin-bottom:6px">{c?.fields?.role_label||"직급"}</label>
                <input type="text" name="role" placeholder={c?.fields?.role_placeholder||"예: 소장 / 팀장 / 매니저"} required style="width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px" />
              </div>
              <div class="span-6">
                <label style="display:block; font-weight:700; margin-bottom:6px">{c?.fields?.name_label||"이름"}</label>
                <input type="text" name="name" placeholder={c?.fields?.name_placeholder||"예: 홍길동"} required style="width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px" />
              </div>
              <div class="span-6">
                <label style="display:block; font-weight:700; margin-bottom:6px">{c?.fields?.phone_label||"전화번호"}</label>
                <input type="tel" name="phone" required inputmode="tel"
                       placeholder={c?.fields?.phone_placeholder||"예: 01012345678"}
                       pattern="^(\+?\d{7,15})$|^0\d{8,10}$"
                       title="휴대폰 번호만 입력해주세요"
                       style="width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px" />
              </div>
              <div class="span-12">
                <label style="display:block; font-weight:700; margin-bottom:6px">{c?.fields?.budget_label||"가용예산(만원)"}</label>
                <input type="number" name="budget" min="0" step="10" placeholder={c?.fields?.budget_placeholder||"예: 300"} style="width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px" />
              </div>
              <div class="span-12" style="display:flex; gap:12px; flex-wrap:wrap">
                <input type="hidden" name="route" value="contact" />
                <button class="btn" type="submit">{c?.submit_text||"문의 보내기"}</button>
                <a class="btn outline" href={"tel:"+PHONE}>전화 {PHONE}</a>
              </div>
            </div>
            <small class="muted">{c?.helper_text||"* 제출 후 상담원이 연락드립니다. (개인정보 처리 안내)"}</small>
          </form>
        </div>

      </div>
    </section>
  </main>
</BaseLayout>
